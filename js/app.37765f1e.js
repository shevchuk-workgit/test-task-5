(function(){"use strict";var t={5370:function(t,e,o){var i=o(9242),n=o(7139),a=(0,n.MT)({state:()=>({headers:{column_1:{title:"Name",rowTitle:"Name",type:"text",id:1},column_2:{title:"Gental",rowTitle:"Gental",type:"text",id:2},column_3:{title:"email",rowTitle:"email",type:"text",id:3},column_4:{title:"Birthday",rowTitle:"Birthday",type:"date",id:4}},rowList:[{id:1,textEditing:!1,column_1:{rowTitle:"James",type:"text",id:1},column_2:{rowTitle:"Male",type:"text",id:2},column_3:{rowTitle:"asfasfsf@hotmail.com",type:"text",id:3},column_4:{rowTitle:"22.01.1993",type:"date",id:4}},{id:2,textEditing:!1,column_1:{rowTitle:"Sams",type:"text",id:1},column_2:{rowTitle:"Male",type:"text",id:2},column_3:{rowTitle:"dfdfhdfhdfh@hotmail.com",type:"text",id:3},column_4:{rowTitle:"17.04.1999",type:"date",id:4}},{id:3,textEditing:!1,column_1:{rowTitle:"Mary",type:"text",id:1},column_2:{rowTitle:"Female",type:"text",id:2},column_3:{rowTitle:"jgfgdfdfg@hotmail.com",type:"text",id:3},column_4:{rowTitle:"05.05.1995",type:"date",id:4}},{id:4,textEditing:!1,column_1:{rowTitle:"Ashly",type:"text",id:1},column_2:{rowTitle:"Female",type:"text",id:2},column_3:{rowTitle:"afhdfhr@hotmail.com",type:"text",id:3},column_4:{rowTitle:"31.08.1996",type:"date",id:4}},{id:5,textEditing:!1,column_1:{rowTitle:"Eden",type:"text",id:1},column_2:{rowTitle:"Male",type:"text",id:2},column_3:{rowTitle:"asfsaffw@hotmail.com",type:"text",id:3},column_4:{rowTitle:"22.11.2001",type:"date",id:4}}],currentColumnValue:4,showModalCreateColumn:!1}),getters:{},mutations:{sortReverseRowList(t,[e,o]){let i=JSON.parse(JSON.stringify(t.rowList));"number"!=o&&(i.sort(((t,o)=>t[e].rowTitle>o[e].rowTitle?-1:t[e].rowTitle<o[e].rowTitle?1:void 0)),t.rowList=JSON.parse(JSON.stringify(i))),"number"==o&&(i.sort(((t,o)=>o[e].rowTitle-t[e].rowTitle)),t.rowList=JSON.parse(JSON.stringify(i)))},sortRowList(t,[e,o]){let i=JSON.parse(JSON.stringify(t.rowList));"number"!=o&&(i.sort(((t,o)=>t[e].rowTitle<o[e].rowTitle?-1:t[e].rowTitle>o[e].rowTitle?1:void 0)),t.rowList=JSON.parse(JSON.stringify(i))),"number"==o&&(i.sort(((t,o)=>t[e].rowTitle-o[e].rowTitle)),t.rowList=JSON.parse(JSON.stringify(i)))},removeColumn(t,[e]){const o=JSON.parse(JSON.stringify(t.headers));delete o[e],t.headers=JSON.parse(JSON.stringify(o));const i=t.rowList.map((t=>(delete t[e],t)));t.rowList=JSON.parse(JSON.stringify(i))},changeShowModalCreateColumn(t){t.showModalCreateColumn=!t.showModalCreateColumn},disableTextEditing(t){t.rowList.map((t=>{t.textEditing=!1}))},createNewColumn(t,[e,o,i]){let n;"number"===o&&(n=`${i.slice(0,-1)}1`),t.currentColumnValue+=1;const a=`column_${t.currentColumnValue}`;t.headers[a]={title:e,rowTitle:i,type:o,step:n};const l=JSON.parse(JSON.stringify(t.rowList));l.map((t=>{t[a]={rowTitle:i,type:o,step:n,id:Date.now()}})),t.rowList=JSON.parse(JSON.stringify(l))},createNewRow(t){const e={id:Date.now(),textEditing:!0};Object.assign(e,JSON.parse(JSON.stringify(t.headers))),console.log(e),t.rowList.push(e)},changeRow(t,[e,o]){for(let n in e)if(e[n].step){let t;e[n].step.length<=2?t=0:e[n].step.length>2&&(t=e[n].step.length-2);let o=Math.floor(e[n].rowTitle*Math.pow(10,t))/Math.pow(10,t);e[n].rowTitle!=o&&(e[n].rowTitle=o)}const i=[...t.rowList.slice(0,[o]),e,...t.rowList.slice([o+1])];t.rowList=JSON.parse(JSON.stringify(i))},removeRow(t,e){const o=[...t.rowList.slice(0,[e]),...t.rowList.slice([e+1])];t.rowList=JSON.parse(JSON.stringify(o))},changeTextEditing(t,[e,o]){t.rowList[o].textEditing=e},getMainTable(t){let e=JSON.parse(localStorage.getItem("mainTable"));e&&(t.headers=JSON.parse(JSON.stringify(e.headers)),t.rowList=JSON.parse(JSON.stringify(e.rowList)),t.currentColumnValue=JSON.parse(JSON.stringify(e.currentColumnValue)))},setMainTable(t){const e={headers:JSON.parse(JSON.stringify(t.headers)),rowList:JSON.parse(JSON.stringify(t.rowList)),currentColumnValue:t.currentColumnValue};localStorage.setItem("mainTable",JSON.stringify(e))}},actions:{}}),l=o(3396);const r={class:"main_container"};function s(t,e,o,i,n,a){const s=(0,l.up)("main-page");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(s)])}const c={class:"main-page_container"},u=(0,l.Uk)("Add column"),d=(0,l.Uk)("Add New Row");function m(t,e,o,i,n,a){const r=(0,l.up)("main-page-modal-create-column"),s=(0,l.up)("ui-add-button"),m=(0,l.up)("main-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[t.$store.state.showModalCreateColumn?((0,l.wg)(),(0,l.j4)(r,{key:0})):(0,l.kq)("",!0),(0,l._)("div",c,[(0,l.Wm)(s,{class:"ui-add-button_column",onClick:a.createNewColumn},{default:(0,l.w5)((()=>[u])),_:1},8,["onClick"]),(0,l.Wm)(m),(0,l.Wm)(s,{class:"ui-add-button_row",onClick:a.createNewRow},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"])])],64)}var w=o.p+"img/add-icon.4d0e0dce.svg";const p=t=>((0,l.dD)("data-v-3ed74abc"),t=t(),(0,l.Cn)(),t),g={class:"button"},_=p((()=>(0,l._)("img",{class:"icon_add",src:w},null,-1)));function h(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",g,[_,(0,l.WI)(t.$slots,"default",{},void 0,!0)])}var b={},f=o(89);const v=(0,f.Z)(b,[["render",h],["__scopeId","data-v-3ed74abc"]]);var y=v,T=o(2268),x=o.p+"img/settings-icon.eb286004.svg";const C=t=>((0,l.dD)("data-v-ac91f170"),t=t(),(0,l.Cn)(),t),M={class:"main-table_table"},N={class:"main-table_head"},O={class:"main-table_head_cell_container"},S={class:"main-table_button_container"},R={class:"main-table_button-sort_container"},k=C((()=>(0,l._)("th",{class:"main-table_head_cell main-table_head_button-column"},[(0,l._)("img",{class:"main-table_settings-icon",src:x})],-1))),J={class:"main-table_body"};function D(t,e,o,i,n,a){const r=(0,l.up)("ui-sort-up-column-button"),s=(0,l.up)("ui-sort-down-column-button"),c=(0,l.up)("ui-remove-column-button"),u=(0,l.up)("main-table-row");return(0,l.wg)(),(0,l.iD)("table",M,[(0,l._)("thead",N,[(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.$store.state.headers,((t,e)=>((0,l.wg)(),(0,l.iD)("th",{class:"main-table_head_cell",key:t.id},[(0,l._)("div",O,[(0,l._)("p",null,(0,T.zw)(t.title),1),(0,l._)("div",S,[(0,l._)("div",R,[(0,l.Wm)(r,{onClick:o=>a.sortReverseRowList(e,t.type)},null,8,["onClick"]),(0,l.Wm)(s,{onClick:o=>a.sortRowList(e,t.type)},null,8,["onClick"])]),(0,l.Wm)(c,{onClick:t=>a.removeColumn(e)},null,8,["onClick"])])])])))),128)),k])]),(0,l._)("tbody",J,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.$store.state.rowList,((t,e)=>((0,l.wg)(),(0,l.j4)(u,{class:"main-table_body_row",key:t.id,row:t,indexRow:e},null,8,["row","indexRow"])))),128))])])}const L={key:0,class:"main-table-row_cell"},E=["onUpdate:modelValue"],$=["onUpdate:modelValue","step"],V={key:2,class:"main-table-row_cell_font"},U={class:"main-table-row_cell main-table-row_cell_row-button"};function P(t,e,o,n,a,r){const s=(0,l.up)("ui-edit-row-button"),c=(0,l.up)("ui-accept-row-button"),u=(0,l.up)("ui-remove-row-button");return(0,l.wg)(),(0,l.iD)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.changedRow,((t,e)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:t.id},[t.rowTitle||""==t.rowTitle?((0,l.wg)(),(0,l.iD)("td",L,[o.row.textEditing&&"number"!==t.type?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,class:"main-table-row_cell_font main-table-row_cell_input",type:"text","onUpdate:modelValue":t=>a.changedRow[e].rowTitle=t},null,8,E)),[[i.nr,a.changedRow[e].rowTitle]]):(0,l.kq)("",!0),o.row.textEditing&&"number"===t.type?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,class:"main-table-row_cell_font main-table-row_cell_input",type:"number","onUpdate:modelValue":t=>a.changedRow[e].rowTitle=t,step:a.changedRow[e].step},null,8,$)),[[i.nr,a.changedRow[e].rowTitle]]):(0,l.kq)("",!0),o.row.textEditing?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",V,(0,T.zw)(t.rowTitle),1))])):(0,l.kq)("",!0)],64)))),128)),(0,l._)("td",U,[o.row.textEditing?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(s,{key:0,onClick:r.startEditRow},null,8,["onClick"])),o.row.textEditing?((0,l.wg)(),(0,l.j4)(c,{key:1,onClick:r.acceptEditRow},null,8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(u,{onClick:r.deleteRow},null,8,["onClick"])])])}var I=o.p+"img/edit-icon.d366ecda.svg";const j=t=>((0,l.dD)("data-v-7023d527"),t=t(),(0,l.Cn)(),t),A={class:"button"},Z=j((()=>(0,l._)("img",{class:"button_img",src:I},null,-1))),B=[Z];function W(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",A,B)}var q={};const Y=(0,f.Z)(q,[["render",W],["__scopeId","data-v-7023d527"]]);var F=Y,H=o.p+"img/remove-icon.a8b481cf.svg";const K=t=>((0,l.dD)("data-v-f0ab2b20"),t=t(),(0,l.Cn)(),t),z={class:"button"},G=K((()=>(0,l._)("img",{class:"button_img",src:H},null,-1))),Q=[G];function X(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",z,Q)}var tt={};const et=(0,f.Z)(tt,[["render",X],["__scopeId","data-v-f0ab2b20"]]);var ot=et,it=o.p+"img/accept-font.e1cda9fe.svg";const nt=t=>((0,l.dD)("data-v-8b784036"),t=t(),(0,l.Cn)(),t),at={class:"button"},lt=nt((()=>(0,l._)("img",{class:"button_img",src:it},null,-1))),rt=[lt];function st(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",at,rt)}var ct={};const ut=(0,f.Z)(ct,[["render",st],["__scopeId","data-v-8b784036"]]);var dt=ut,mt={components:{UiEditRowButton:F,UiRemoveRowButton:ot,UiAcceptRowButton:dt},data(){return{changedRow:[]}},props:{row:{type:Object},indexRow:{type:Number}},methods:{startEditRow(){this.$store.commit("changeTextEditing",[!0,this.indexRow])},acceptEditRow(){this.$store.commit("changeRow",[this.changedRow,this.indexRow]),this.$store.commit("changeTextEditing",[!1,this.indexRow]),this.$store.commit("setMainTable")},deleteRow(){this.$store.commit("removeRow",this.indexRow),this.$store.commit("setMainTable")}},updated(){this.row.textEditing||this.watchRowList},mounted(){this.changedRow=JSON.parse(JSON.stringify(this.$store.state.rowList[this.indexRow]))},computed:{watchRowList(){this.changedRow=this.changedRow=JSON.parse(JSON.stringify(this.$store.state.rowList[this.indexRow]))}}};const wt=(0,f.Z)(mt,[["render",P],["__scopeId","data-v-77f942f3"]]);var pt=wt,gt=o.p+"img/remove-white-icon.0d07764c.svg";const _t=t=>((0,l.dD)("data-v-52da9c7b"),t=t(),(0,l.Cn)(),t),ht={class:"button"},bt=_t((()=>(0,l._)("img",{class:"button_img",src:gt},null,-1))),ft=[bt];function vt(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",ht,ft)}var yt={};const Tt=(0,f.Z)(yt,[["render",vt],["__scopeId","data-v-52da9c7b"]]);var xt=Tt,Ct=o.p+"img/arrow-up.17287f78.svg";const Mt=t=>((0,l.dD)("data-v-9219827a"),t=t(),(0,l.Cn)(),t),Nt={class:"button"},Ot=Mt((()=>(0,l._)("img",{class:"button_img",src:Ct},null,-1))),St=[Ot];function Rt(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",Nt,St)}var kt={};const Jt=(0,f.Z)(kt,[["render",Rt],["__scopeId","data-v-9219827a"]]);var Dt=Jt,Lt=o.p+"img/arrow-down.82404331.svg";const Et=t=>((0,l.dD)("data-v-29a77f53"),t=t(),(0,l.Cn)(),t),$t={class:"button"},Vt=Et((()=>(0,l._)("img",{class:"button_img",src:Lt},null,-1))),Ut=[Vt];function Pt(t,e,o,i,n,a){return(0,l.wg)(),(0,l.iD)("button",$t,Ut)}var It={};const jt=(0,f.Z)(It,[["render",Pt],["__scopeId","data-v-29a77f53"]]);var At=jt,Zt={components:{MainTableRow:pt,UiRemoveColumnButton:xt,UiSortUpColumnButton:Dt,UiSortDownColumnButton:At},data(){return{}},methods:{sortReverseRowList(t,e){this.$store.commit("disableTextEditing"),this.$store.commit("sortReverseRowList",[t,e]),this.$store.commit("setMainTable")},sortRowList(t,e){this.$store.commit("disableTextEditing"),this.$store.commit("sortRowList",[t,e]),this.$store.commit("setMainTable")},removeColumn(t){this.$store.commit("disableTextEditing"),this.$store.commit("removeColumn",[t]),this.$store.commit("setMainTable")}}};const Bt=(0,f.Z)(Zt,[["render",D],["__scopeId","data-v-ac91f170"]]);var Wt=Bt;const qt=t=>((0,l.dD)("data-v-14c693aa"),t=t(),(0,l.Cn)(),t),Yt={class:"MainPageModal_wrapper"},Ft=qt((()=>(0,l._)("h1",{class:"MainPageModal_header"},"ADD COLUMN",-1))),Ht={class:"MainPageModal_label"},Kt=(0,l.Uk)("NAME "),zt={class:"MainPageModal_label"},Gt=(0,l.Uk)(" TYPE "),Qt=qt((()=>(0,l._)("option",{class:"MainPageModal_option",value:"text",selected:""}," Текстовый ",-1))),Xt=qt((()=>(0,l._)("option",{class:"MainPageModal_option",value:"number"},"Числовой",-1))),te=qt((()=>(0,l._)("option",{class:"MainPageModal_option",value:"date"},"Дата",-1))),ee=[Qt,Xt,te],oe={key:0,class:"MainPageModal_label"},ie=(0,l.Uk)("FORMAT "),ne={key:1,class:"MainPageModal_label"},ae=(0,l.Uk)("FORMAT "),le=(0,l.Uk)("Add column");function re(t,e,o,n,a,r){const s=(0,l.up)("ui-add-button");return(0,l.wg)(),(0,l.iD)("div",{class:"MainPageModal_container",onClick:e[5]||(e[5]=(0,i.iM)(((...t)=>r.closeModalCreateColumn&&r.closeModalCreateColumn(...t)),["self"]))},[(0,l._)("div",Yt,[Ft,(0,l._)("label",Ht,[Kt,(0,l.wy)((0,l._)("input",{type:"text",class:"MainPageModal_input",placeholder:"NAME","onUpdate:modelValue":e[0]||(e[0]=t=>a.modalName=t)},null,512),[[i.nr,a.modalName]])]),(0,l._)("label",zt,[Gt,(0,l.wy)((0,l._)("select",{class:"MainPageModal_select","onUpdate:modelValue":e[1]||(e[1]=t=>a.currentState=t)},ee,512),[[i.bM,a.currentState]])]),"number"===a.currentState?((0,l.wg)(),(0,l.iD)("label",oe,[ie,(0,l.wy)((0,l._)("input",{type:"text",class:"MainPageModal_input","onUpdate:modelValue":e[2]||(e[2]=t=>a.optionTextValue=t),onKeypress:e[3]||(e[3]=(...t)=>r.inputOptionText&&r.inputOptionText(...t))},null,544),[[i.nr,a.optionTextValue]])])):(0,l.kq)("",!0),"date"===a.currentState?((0,l.wg)(),(0,l.iD)("label",ne,[ae,(0,l.wy)((0,l._)("input",{type:"text",class:"MainPageModal_input","onUpdate:modelValue":e[4]||(e[4]=t=>a.optionDateValue=t)},null,512),[[i.nr,a.optionDateValue]])])):(0,l.kq)("",!0),(0,l.Wm)(s,{class:"MainPageModal_button",onClick:r.createNewColumn},{default:(0,l.w5)((()=>[le])),_:1},8,["onClick"])])])}var se={components:{UiAddButton:y},data(){return{modalName:"",currentState:"text",optionTextValue:"0.000",optionDateValue:"дд.мм.гггг"}},methods:{createNewColumn(){this.$store.commit("disableTextEditing");let t,e=this.modalName;""===e&&(e="New Column"),"text"===this.currentState&&(t=e),"number"===this.currentState&&(t=this.optionTextValue),"date"===this.currentState&&(t=0==this.optionDateValue?"дд.мм.гггг":this.optionDateValue),this.$store.commit("createNewColumn",[e,this.currentState,t]),this.closeModalCreateColumn(),this.$store.commit("setMainTable")},inputOptionText(t){t.preventDefault(),this.optionTextValue+=0},closeModalCreateColumn(){this.$store.commit("changeShowModalCreateColumn")}},watch:{optionTextValue(){""===this.optionTextValue&&(this.optionTextValue="0"),"0."===this.optionTextValue&&(this.optionTextValue="0"),"00"===this.optionTextValue&&(this.optionTextValue="0.0")}}};const ce=(0,f.Z)(se,[["render",re],["__scopeId","data-v-14c693aa"]]);var ue=ce,de={components:{UiAddButton:y,MainTable:Wt,MainPageModalCreateColumn:ue},data(){return{}},methods:{createNewColumn(){this.$store.commit("changeShowModalCreateColumn")},createNewRow(){this.$store.commit("createNewRow"),this.$store.commit("setMainTable")}},mounted(){this.$store.commit("getMainTable"),this.$store.commit("disableTextEditing"),this.$store.commit("setMainTable")}};const me=(0,f.Z)(de,[["render",m],["__scopeId","data-v-da11dd18"]]);var we=me,pe={components:{MainPage:we}};const ge=(0,f.Z)(pe,[["render",s],["__scopeId","data-v-58ce3c9f"]]);var _e=ge;(0,i.ri)(_e).use(a).mount("#app")}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,i,n,a){if(!i){var l=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],a=t[u][2];for(var r=!0,s=0;s<i.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(t){return o.O[t](i[s])}))?i.splice(s--,1):(r=!1,a<l&&(l=a));if(r){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,n,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/test-task-5/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,a,l=i[0],r=i[1],s=i[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var u=s(o)}for(e&&e(i);c<l.length;c++)a=l[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},i=self["webpackChunktest_task_5"]=self["webpackChunktest_task_5"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(5370)}));i=o.O(i)})();
//# sourceMappingURL=app.37765f1e.js.map